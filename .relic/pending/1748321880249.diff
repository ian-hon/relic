= LOCAL 1748321880249 "changed%20content%20included%20in%20deletion%20change" "" no_one
=
| . Cargo.lock
- 2 "version = 3"
+ 2 "version = 4"
+ 20 "name = \"android-tzdata\""
+ 21 "version = \"0.1.1\""
+ 22 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 23 "checksum = \"e999941b234f3131b00bc13c22d06e8c5ff726d1b6318ac7eb276997bbb4fef0\""
+ 24 ""
+ 25 "[[package]]"
+ 26 "name = \"android_system_properties\""
+ 27 "version = \"0.1.5\""
+ 28 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 29 "checksum = \"819e7219dbd41043ac279b19830f2efc897156490d7fd6ea916720117ee66311\""
+ 30 "dependencies = ["
+ 31 " \"libc\","
+ 32 "]"
+ 33 ""
+ 34 "[[package]]"
+ 96 "name = \"autocfg\""
+ 97 "version = \"1.4.0\""
+ 98 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 99 "checksum = \"ace50bade8e6234aa140d9a2f552bbee1db4d353f69b8217bc503490fc1a9f26\""
+ 100 ""
+ 101 "[[package]]"
+ 126 "name = \"bumpalo\""
+ 127 "version = \"3.17.0\""
+ 128 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 129 "checksum = \"1628fb46dfa0b37568d12e5edd512553eccf6a22a78e8bde00bb4aed84d5bdbf\""
+ 130 ""
+ 131 "[[package]]"
+ 138 "name = \"cc\""
+ 139 "version = \"1.2.24\""
+ 140 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 141 "checksum = \"16595d3be041c03b09d08d0858631facccee9221e579704070e6e9e4915d3bc7\""
+ 142 "dependencies = ["
+ 143 " \"shlex\","
+ 144 "]"
+ 145 ""
+ 146 "[[package]]"
+ 153 "name = \"chrono\""
+ 154 "version = \"0.4.41\""
+ 155 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 156 "checksum = \"c469d952047f47f91b68d1cba3f10d63c11d73e4636f24f08daf0278abf01c4d\""
+ 157 "dependencies = ["
+ 158 " \"android-tzdata\","
+ 159 " \"iana-time-zone\","
+ 160 " \"js-sys\","
+ 161 " \"num-traits\","
+ 162 " \"wasm-bindgen\","
+ 163 " \"windows-link\","
+ 164 "]"
+ 165 ""
+ 166 "[[package]]"
+ 200 "name = \"core-foundation-sys\""
+ 201 "version = \"0.8.7\""
+ 202 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 203 "checksum = \"773648b94d0e5d620f64f280777445740e61fe701025087ec8b57f45c791888b\""
+ 204 ""
+ 205 "[[package]]"
+ 269 "name = \"iana-time-zone\""
+ 270 "version = \"0.1.63\""
+ 271 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 272 "checksum = \"b0c919e5debc312ad217002b8048a17b7d83f80703865bbfcfebb0458b0b27d8\""
+ 273 "dependencies = ["
+ 274 " \"android_system_properties\","
+ 275 " \"core-foundation-sys\","
+ 276 " \"iana-time-zone-haiku\","
+ 277 " \"js-sys\","
+ 278 " \"log\","
+ 279 " \"wasm-bindgen\","
+ 280 " \"windows-core\","
+ 281 "]"
+ 282 ""
+ 283 "[[package]]"
+ 284 "name = \"iana-time-zone-haiku\""
+ 285 "version = \"0.1.2\""
+ 286 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 287 "checksum = \"f31827a206f56af32e590ba56d5d2d085f558508192593743f16b2306495269f\""
+ 288 "dependencies = ["
+ 289 " \"cc\","
+ 290 "]"
+ 291 ""
+ 292 "[[package]]"
+ 305 "name = \"js-sys\""
+ 306 "version = \"0.3.77\""
+ 307 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 308 "checksum = \"1cfaf33c695fc6e08064efbc1f72ec937429614f25eef83af942d0e227c3a28f\""
+ 309 "dependencies = ["
+ 310 " \"once_cell\","
+ 311 " \"wasm-bindgen\","
+ 312 "]"
+ 313 ""
+ 314 "[[package]]"
+ 321 "name = \"log\""
+ 322 "version = \"0.4.27\""
+ 323 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 324 "checksum = \"13dc2df351e3202783a1fe0d44375f7295ffb4049267b0f3018346dc122a1d94\""
+ 325 ""
+ 326 "[[package]]"
+ 342 "name = \"num-traits\""
+ 343 "version = \"0.2.19\""
+ 344 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 345 "checksum = \"071dfc062690e90b734c0b2273ce72ad0ffa95f0c74596bc250dcfd960262841\""
+ 346 "dependencies = ["
+ 347 " \"autocfg\","
+ 348 "]"
+ 349 ""
+ 350 "[[package]]"
+ 393 " \"chrono\","
+ 402 " \"unescape\","
+ 481 "name = \"shlex\""
+ 482 "version = \"1.3.0\""
+ 483 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 484 "checksum = \"0fda2ff0d084019ba4d7c6f371c95d8fd75ce3524c3cb8fb653a3023f6323e64\""
+ 485 ""
+ 486 "[[package]]"
+ 546 "name = \"unescape\""
+ 547 "version = \"0.1.0\""
+ 548 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 549 "checksum = \"ccb97dac3243214f8d8507998906ca3e2e0b900bf9bf4870477f125b82e68f6e\""
+ 550 ""
+ 551 "[[package]]"
+ 576 "name = \"wasm-bindgen\""
+ 577 "version = \"0.2.100\""
+ 578 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 579 "checksum = \"1edc8929d7499fc4e8f0be2262a241556cfc54a0bea223790e71446f2aab1ef5\""
+ 580 "dependencies = ["
+ 581 " \"cfg-if\","
+ 582 " \"once_cell\","
+ 583 " \"rustversion\","
+ 584 " \"wasm-bindgen-macro\","
+ 585 "]"
+ 586 ""
+ 587 "[[package]]"
+ 588 "name = \"wasm-bindgen-backend\""
+ 589 "version = \"0.2.100\""
+ 590 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 591 "checksum = \"2f0a0651a5c2bc21487bde11ee802ccaf4c51935d0d3d42a6101f98161700bc6\""
+ 592 "dependencies = ["
+ 593 " \"bumpalo\","
+ 594 " \"log\","
+ 595 " \"proc-macro2\","
+ 596 " \"quote\","
+ 597 " \"syn\","
+ 598 " \"wasm-bindgen-shared\","
+ 599 "]"
+ 600 ""
+ 601 "[[package]]"
+ 602 "name = \"wasm-bindgen-macro\""
+ 603 "version = \"0.2.100\""
+ 604 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 605 "checksum = \"7fe63fc6d09ed3792bd0897b314f53de8e16568c2b3f7982f468c0bf9bd0b407\""
+ 606 "dependencies = ["
+ 607 " \"quote\","
+ 608 " \"wasm-bindgen-macro-support\","
+ 609 "]"
+ 610 ""
+ 611 "[[package]]"
+ 612 "name = \"wasm-bindgen-macro-support\""
+ 613 "version = \"0.2.100\""
+ 614 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 615 "checksum = \"8ae87ea40c9f689fc23f209965b6fb8a99ad69aeeb0231408be24920604395de\""
+ 616 "dependencies = ["
+ 617 " \"proc-macro2\","
+ 618 " \"quote\","
+ 619 " \"syn\","
+ 620 " \"wasm-bindgen-backend\","
+ 621 " \"wasm-bindgen-shared\","
+ 622 "]"
+ 623 ""
+ 624 "[[package]]"
+ 625 "name = \"wasm-bindgen-shared\""
+ 626 "version = \"0.2.100\""
+ 627 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 628 "checksum = \"1a05d73b933a847d6cccdda8f838a22ff101ad9bf93e33684f39c1f5f0eece3d\""
+ 629 "dependencies = ["
+ 630 " \"unicode-ident\","
+ 631 "]"
+ 632 ""
+ 633 "[[package]]"
+ 634 "name = \"windows-core\""
+ 635 "version = \"0.61.2\""
+ 636 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 637 "checksum = \"c0fdd3ddb90610c7638aa2b3a3ab2904fb9e5cdbecc643ddb3647212781c4ae3\""
+ 638 "dependencies = ["
+ 639 " \"windows-implement\","
+ 640 " \"windows-interface\","
+ 641 " \"windows-link\","
+ 642 " \"windows-result\","
+ 643 " \"windows-strings\","
+ 644 "]"
+ 645 ""
+ 646 "[[package]]"
+ 647 "name = \"windows-implement\""
+ 648 "version = \"0.60.0\""
+ 649 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 650 "checksum = \"a47fddd13af08290e67f4acabf4b459f647552718f683a7b415d290ac744a836\""
+ 651 "dependencies = ["
+ 652 " \"proc-macro2\","
+ 653 " \"quote\","
+ 654 " \"syn\","
+ 655 "]"
+ 656 ""
+ 657 "[[package]]"
+ 658 "name = \"windows-interface\""
+ 659 "version = \"0.59.1\""
+ 660 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 661 "checksum = \"bd9211b69f8dcdfa817bfd14bf1c97c9188afa36f4750130fcdf3f400eca9fa8\""
+ 662 "dependencies = ["
+ 663 " \"proc-macro2\","
+ 664 " \"quote\","
+ 665 " \"syn\","
+ 666 "]"
+ 667 ""
+ 668 "[[package]]"
+ 669 "name = \"windows-link\""
+ 670 "version = \"0.1.1\""
+ 671 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 672 "checksum = \"76840935b766e1b0a05c0066835fb9ec80071d4c09a16f6bd5f7e655e3c14c38\""
+ 673 ""
+ 674 "[[package]]"
+ 675 "name = \"windows-result\""
+ 676 "version = \"0.3.4\""
+ 677 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 678 "checksum = \"56f42bd332cc6c8eac5af113fc0c1fd6a8fd2aa08a0119358686e5160d0586c6\""
+ 679 "dependencies = ["
+ 680 " \"windows-link\","
+ 681 "]"
+ 682 ""
+ 683 "[[package]]"
+ 684 "name = \"windows-strings\""
+ 685 "version = \"0.4.2\""
+ 686 "source = \"registry+https://github.com/rust-lang/crates.io-index\""
+ 687 "checksum = \"56e6c93f3a0c3b36176cb1327a4958a0353d5d166c2a35cb268ace15e91d3b57\""
+ 688 "dependencies = ["
+ 689 " \"windows-link\","
+ 690 "]"
+ 691 ""
+ 692 "[[package]]"
| .%2Fsrc change.rs
- 73 "                Modification::Delete(path, name, _) => (path.clone(), name.clone()),"
+ 73 "                Modification::Delete(path, name, _, _) => (path.clone(), name.clone()),"
- 96 "                    Modification::Delete(_, _, line) => format!(\"- {line}\"),"
+ 96 "                    Modification::Delete(_, _, line, content) => format!(\"- {line} {content:?}\"),"
- 184 "                        if (p == \"+\") && (content.len() < 3) {"
+ 184 "                        if content.len() < 3 {"
- 201 "                            \"-\" => result.modifications.push(Modification::Delete("
- 202 "                                urlencoding::decode(p).unwrap().to_string(),"
- 203 "                                urlencoding::decode(n).unwrap().to_string(),"
- 204 "                                line,"
- 205 "                            )),"
+ 201 "                            \"-\" => {"
+ 202 "                                let s = unescape::unescape(&content[2..].join(\" \")).unwrap();"
+ 203 "                                result.modifications.push(Modification::Delete("
+ 204 "                                    urlencoding::decode(p).unwrap().to_string(),"
+ 205 "                                    urlencoding::decode(n).unwrap().to_string(),"
+ 206 "                                    line,"
+ 207 "                                    s[1..s.len() - 1].to_string(),"
+ 208 "                                ))"
+ 209 "                            }"
+ 264 "                    change.to_string().strip_suffix(\"\\n\").unwrap().to_string(),"
- 468 "                Modification::Delete(path, name, _) => (path.clone(), name.clone()),"
+ 473 "                Modification::Delete(path, name, _, _) => (path.clone(), name.clone()),"
- 504 "                        Modification::Create(p, n, _, _) | Modification::Delete(p, n, _) => {"
+ 509 "                        Modification::Create(p, n, _, _) | Modification::Delete(p, n, _, _) => {"
+ 517 ""
+ 518 "    pub fn inverse(&self) -> Change {"
+ 519 "        // returns inverse of the change"
+ 520 "        // all additions are deletions and vice versa"
+ 521 ""
+ 522 "        // let mut result ="
+ 523 ""
+ 524 "        Change::empty()"
+ 525 "    }"
+ 541 "        String, // text"
| .%2Fsrc content.rs
- 82 "            Modification::Delete(_, _, l) => -(*l as i128),"
+ 82 "            Modification::Delete(_, _, l, _) => -(*l as i128),"
- 91 "                Modification::Delete(_, _, line) => {"
+ 91 "                Modification::Delete(_, _, line, _) => {"
+ 241 "    pub fn unapply_changes(&mut self, changes: Change) {}"
+ 242 ""